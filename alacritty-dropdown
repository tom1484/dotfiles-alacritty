#!/bin/bash
# Alacritty dropdown terminal using tdrop
# This script creates a toggle-able dropdown terminal at the top of the screen

# Configuration (adjust as needed)
HEIGHT=80
WIDTH=80

X=$(( (100 - WIDTH)/2 ))
Y=$(( (100 - HEIGHT)/2 ))

WINDOW_CLASS="dropdown,dropdown"  # Window class for WM rules

# Run tdrop with auto-hide and toggle functionality
WAYLAND_DISPLAY= WINIT_UNIX_BACKEND=x11 tdrop -ma -A -n dropdown-term \
    -w "${WIDTH}%" -h "${HEIGHT}%" -x "${X}%" -y "${Y}%" \
    -P 'wmctrl -i -r $wid -b add,above' \
    alacritty --class dropdown-term,dropdown-term \
    --option '' \
    -e tmux new-session -A -s default
